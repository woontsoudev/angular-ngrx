<app-page>
    <section
        main-content
        class="container-fluid"
    >
        <p>Properties</p>

        <app-toolbar
            class="row"
            [dropdownOptions]="dropdownProperties$ | async"
            (dropdownSelectedItem)="onSelectProperty($event)"
        ></app-toolbar>

        <div class="row bg-white mt-4">
            <app-units [units]="units$ | async"></app-units>
        </div>
    </section>

    <div modals>
        <!-- Unit detail modal -->
        <app-modal
            (visibleChange)="onToggleModal('DETAIL')"
            [visible]="unitDetailModal$ | async"
        >
            <div modal-header>
                UNIT DETAIL
                <fa-icon
                    (click)="onToggleModal('DETAIL')"
                    class="mr-1"
                    [icon]="['fas', 'times']"
                    size="lg"
                ></fa-icon>
            </div>
            <div modal-body>
                <app-unit-detail *ngIf="unitDetailModal$ | async"></app-unit-detail>
            </div>
        </app-modal>

        <!-- Edit unit modal -->
        <app-modal
            (visibleChange)="onToggleModal('EDIT')"
            [visible]="editUnitModal$ | async"
        >
            <div modal-header>
                Add Unit
                <fa-icon
                    (click)="onToggleModal('EDIT')"
                    class="mr-1"
                    [icon]="['fas', 'times']"
                    size="lg"
                ></fa-icon>
            </div>
            <div modal-body>
                <app-add-edit-units *ngIf="editUnitModal$ | async"></app-add-edit-units>
            </div>
        </app-modal>

        <!-- Confirmation modal -->
        <p-confirmDialog
            header="Confirmation"
            icon="pi pi-exclamation-triangle"
            width="425"
        ></p-confirmDialog>
    </div>
</app-page>
